# WARNING. DO NOT EDIT THIS FILE.
# To override settings from this file, you can copy and paste the relevant
# sections into your printer.cfg and change it there.

# SOURCES
# BTT - https://github.com/bigtreetech/SKR-Pico/blob/master/Klipper/SKR%20Pico%20klipper.cfg
# Klipper - https://github.com/Klipper3d/klipper/blob/master/config/generic-bigtreetech-skr-pico-v1.0.cfg

[duplicate_pin_override]
pins:
    gpio22, # shared_uart_pin
    gpio9,  # shared_tx_pin
    gpio8   # shared_zprobe_pin

# not all aliases are set yet, but diag pins my be usefull in future (i.e detecting skipped steps on extruder)
[board_pins skr_pico_tmc2209]
aliases:
# The pico shares the same uart pin between all axis `gpio9` however this pin cannot be mapped to multiple alias. For now setting to null
# @see https://klipper.discourse.group/t/intentional-or-an-aliasing-related-bug/1735/6
# @see https://klipper.discourse.group/t/reworking-example-config-files-to-have-pin-aliases-at-top-of-file/1689/13
# Shared Pins
  shared_uart_pin=gpio9,
  shared_tx_pin=gpio8,
  shared_zprobe_pin=gpio22,
# steppers
# x_uart_pin=null,y_uart_pin=null,z0_uart_pin=null,e_uart_pin=null
# x_uart_pin=gpio9,y_uart_pin=gpio9,z0_uart_pin=gpio9,e_uart_pin=gpio9
  x_step_pin=gpio11,    x_dir_pin=gpio10,   x_enable_pin=gpio12,    x_diag_pin=gpio4,   x_endstop_pin=gpio4,
  y_step_pin=gpio6,     y_dir_pin=gpio5,    y_enable_pin=gpio7,     y_diag_pin=gpio3,   y_endstop_pin=gpio3,
  z0_step_pin=gpio19,   z0_dir_pin=gpio28,  z0_enable_pin=gpio2,    z0_diag_pin=null,
  e_step_pin=gpio14,    e_dir_pin=gpio13,   e_enable_pin=gpio15,    e_diag_pin=null,    e_heater_pin=gpio23,  e_sensor_pin=gpio27,
# auto leveling
  bltouch_sensor_pin=gpio22,  bltouch_control_pin=gpio29,
  probe_pin=gpio22,
# fans
  fan_part_cooling_pin=gpio17,
  fan_toolhead_cooling_pin=gpio18,
  fan_controller_board_pin=gpio20,
# Bed heater
  heater_bed_heating_pin=gpio21,
  heater_bed_sensor_pin=gpio26

[mcu]
# serial: /dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00
# serial: /dev/serial/by-id/usb-Klipper_rp2040_E66094A027854422-if00
# baud: 250000
# serial: /dev/btt-skr-pico

[tmc2209 stepper_x]
uart_address: 0
tx_pin: shared_tx_pin
uart_pin: shared_uart_pin

[tmc2209 stepper_y]
uart_address: 2
tx_pin: shared_tx_pin
uart_pin: shared_uart_pin

[tmc2209 stepper_z]
uart_address: 1
tx_pin: shared_tx_pin
uart_pin: shared_uart_pin

[tmc2209 extruder]
uart_address: 3
tx_pin: shared_tx_pin
uart_pin: shared_uart_pin

[temperature_sensor SKR_Pico]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 100

# [filament_switch_sensor runout_sensor]
# switch_pin: ^gpio16
# pause_on_runout: True

[neopixel board_rgb]
pin: gpio24
chain_count: 1
color_order: GRB
initial_RED: 0.3
initial_GREEN: 0.3
initial_BLUE: 0.3